{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\n\nexport function fetchImages(query) {\n  return axios\n    .get('https://pixabay.com/api/', {\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      params: {\n        key: '50594223-08a3a2e6b4d3e84c5c31a5d02',\n        q: query,\n        image_type: 'photo',\n        orientation: 'horizontal',\n        safesearch: true,\n      },\n    })\n    .then(response => response.data)\n    .catch(err => console.error(err));\n}","export function renderGalleryItem(items) {\n    return items\n      .map(\n        ({\n          webformatURL,\n          largeImageURL,\n          tags,\n          likes,\n          views,\n          comments,\n          downloads,\n        }) =>\n            `<li class=\"gallery-item\">\n            <a class=\"gallery-link\" href=\"${largeImageURL}\">\n                <img\n                    class=\"gallery-image\"\n                    src=\"${webformatURL}\"\n                    data-source=\"${largeImageURL}\"\n                    alt=\"${tags}\"\n                    width=360\n                    height=200\n                />\n\n            </a>\n            <ul class='metadata'>\n                <li>\n                    <p class='metadata-heading'>Likes</p>\n                    <p>${likes}</p>\n                </li>\n                <li>\n                    <p class='metadata-heading'>Views</p>\n                    <p>${views}</p>\n                </li>\n                <li>\n                    <p class='metadata-heading'>Comments</p>\n                    <p>${comments}</p>\n                </li>\n                <li>\n                    <p metadata-heading>Downloads</p>\n                    <p>${downloads}</p>\n                </li>\n            </ul>\n        </li>`\n      )\n      .join('');\n  }\n","import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nimport { fetchImages } from \"./js/pixabay-api\";\nimport { renderGalleryItem } from \"./js/render-functions\";\n\nconst form = document.querySelector('.form');\nconst gallery = document.querySelector('.gallery');\nconst input = document.querySelector('input');\nconst loader = document.querySelector('.loader');\n\nconst lightBoxInstance = new SimpleLightbox('.gallery a', {\n  captionsData: 'alt',\n  captionPosition: 'bottom',\n  captionDelay: 250,\n});\n\nconst onFormSubmit = e => {\n    e.preventDefault();\n    const form = e.currentTarget;\n    const query = input.value.trim();\n    input.value = '';\n\n    if (query === '') {\n        iziToast.warning({\n          title: 'Caution',\n          message: 'Please enter a query!',\n          position: 'topRight',\n        });\n    \n        return;\n    }\n    \n    loader.classList.remove('hidden');\n\n    gallery.innerHTML = '';\n\n    fetchImages(query)\n        .then(data => {\n            loader.classList.add('hidden');\n            if (data.total === 0) {\n                gallery.innerHTML = '';\n\n                return iziToast.show({\n                    message:\n                        'Sorry, there are no images matching your search query. Please try again!',\n                    color: 'red',\n                    position: 'topRight',\n                });\n            }\n\n            gallery.innerHTML = renderGalleryItem(data.hits);\n            lightBoxInstance.refresh();\n        })\n        .catch(err => {\n            console.log(err);\n        })\n        .finally(() => {\n            form.reset();\n        });\n}\n\nform.addEventListener(\"submit\", onFormSubmit);\n"],"names":["fetchImages","query","axios","response","err","renderGalleryItem","items","webformatURL","largeImageURL","tags","likes","views","comments","downloads","form","gallery","input","loader","lightBoxInstance","SimpleLightbox","onFormSubmit","e","iziToast","data"],"mappings":"owBAEO,SAASA,EAAYC,EAAO,CACjC,OAAOC,EACJ,IAAI,2BAA4B,CAC/B,QAAS,CACP,eAAgB,kBACjB,EACD,OAAQ,CACN,IAAK,qCACL,EAAGD,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EACb,CACP,CAAK,EACA,KAAKE,GAAYA,EAAS,IAAI,EAC9B,MAAMC,GAAO,QAAQ,MAAMA,CAAG,CAAC,CACpC,CClBO,SAASC,EAAkBC,EAAO,CACrC,OAAOA,EACJ,IACC,CAAC,CACC,aAAAC,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACD,IACG;AAAA,4CACgCL,CAAa;AAAA;AAAA;AAAA,2BAG9BD,CAAY;AAAA,mCACJC,CAAa;AAAA,2BACrBC,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBASNC,CAAK;AAAA;AAAA;AAAA;AAAA,yBAILC,CAAK;AAAA;AAAA;AAAA;AAAA,yBAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,yBAIRC,CAAS;AAAA;AAAA;AAAA,cAI3B,EACA,KAAK,EAAE,CACd,CCrCA,MAAMC,EAAO,SAAS,cAAc,OAAO,EACrCC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAQ,SAAS,cAAc,OAAO,EACtCC,EAAS,SAAS,cAAc,SAAS,EAEzCC,EAAmB,IAAIC,EAAe,aAAc,CACxD,aAAc,MACd,gBAAiB,SACjB,aAAc,GAChB,CAAC,EAEKC,EAAeC,GAAK,CACtBA,EAAE,eAAc,EAChB,MAAMP,EAAOO,EAAE,cACTpB,EAAQe,EAAM,MAAM,KAAI,EAG9B,GAFAA,EAAM,MAAQ,GAEVf,IAAU,GAAI,CACdqB,EAAS,QAAQ,CACf,MAAO,UACP,QAAS,wBACT,SAAU,UACpB,CAAS,EAED,MACH,CAEDL,EAAO,UAAU,OAAO,QAAQ,EAEhCF,EAAQ,UAAY,GAEpBf,EAAYC,CAAK,EACZ,KAAKsB,GAAQ,CAEV,GADAN,EAAO,UAAU,IAAI,QAAQ,EACzBM,EAAK,QAAU,EACf,OAAAR,EAAQ,UAAY,GAEbO,EAAS,KAAK,CACjB,QACI,2EACJ,MAAO,MACP,SAAU,UAC9B,CAAiB,EAGLP,EAAQ,UAAYV,EAAkBkB,EAAK,IAAI,EAC/CL,EAAiB,QAAO,CACpC,CAAS,EACA,MAAMd,GAAO,CACV,QAAQ,IAAIA,CAAG,CAC3B,CAAS,EACA,QAAQ,IAAM,CACXU,EAAK,MAAK,CACtB,CAAS,CACT,EAEAA,EAAK,iBAAiB,SAAUM,CAAY"}